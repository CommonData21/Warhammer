###################################
#
# Health Events
#
# Id 6000-6499 is reserved
# 
# Vanilla core events with warhammer modifications
# typical warhammer diseases are in sperate file 
#
###################################
#
# Written by Sara Wendel-Örtqvist
# and Chris King
# and Henrik Eklund
#
#  modified by Pietrko
#
#Syphilitic
character_event = {
    id = 6000
    desc = EVTDESC6000
    picture = GFX_evt_illness
    
    min_age = 16
    capable_only = yes
    
    trigger = {
		NOT = { trait = creature_forestspirit }
        	NOT = { culture_group = daemonic_group }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
        NOT = {
            trait = syphilitic
        }
        NOT = {
            trait = celibate
        }
	OR = { NOT = { trait = infirm }
		religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
        OR = {
            NOT = { trait = chaste }
            spouse = { 
                is_alive = yes
                is_abroad = no
                trait = syphilitic 
            }
        }
    }
    
    mean_time_to_happen = {
        months = 20000
        
        modifier = {
            factor = 0.1
            spouse = { 
                trait = syphilitic 
            }
        }
        modifier = {
            factor = 0.5
            in_command = yes
        }      
	modifier = {
		factor = 0.025
	OR = { religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
	}        
        modifier = {
            factor = 0.5
            trait = lustful
        }
        modifier = {
            factor = 0.6
            trait = hedonist
        }
        
        modifier = {
            factor = 5.0
            trait = chaste
        }
    }
    
    option = {
        name = EVTOPTA6000
        add_trait = syphilitic
    }
}

#Remove Syphilitic
character_event = {
    id = 6001
    desc = EVTDESC6001
    picture = GFX_evt_recovery
    
    trigger = {
        health = 6
        trait = syphilitic
	NOT = { religion = nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle2 }
	NOT = { has_character_flag = hidden_cultist_nurgle3 }
    }
    
    mean_time_to_happen = {
        months = 25000
        
        modifier = {
            factor = 0.5
            health = 8
        }
        modifier = {
            factor = 0.5
            health = 9
        }
    }
    
    option = {
        name = EVTOPTA6001
        remove_trait = syphilitic
    }
}

#Leper
character_event = {
    id = 6010
    desc = EVTDESC6010
    picture = GFX_evt_illness
    
    min_age = 10
    
    trigger = {
        	NOT = { culture_group = daemonic_group }
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
        NOT = {
            trait = leper
        }
	OR = { NOT = { health = 5 }
		religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
    }
    
    mean_time_to_happen = {
        months = 85000
        
        modifier = {
            factor = 0.5
            NOT = { 
                health = 4 
            }
        }
        modifier = {
            factor = 0.5
            in_command = yes
        }     
	modifier = {
		factor = 0.025
	OR = { religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
	}      
        
    }
    
    option = {
        name = EVTOPTA6010
        add_trait = leper
    }
}

#Remove Leper
character_event = {
    id = 6011
    desc = EVTDESC6011
    picture = GFX_evt_recovery
    
    min_age = 10
    
    trigger = {
        health = 4
        treasury = 25
        trait = leper
	NOT = { religion = nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle2 }
	NOT = { has_character_flag = hidden_cultist_nurgle3 }
    }
    
    mean_time_to_happen = {
        months = 25000
    }
    
    option = {
        name = EVTOPTA6011
        remove_trait = leper
        treasury = -25
    }
}

#Lunatic
character_event = {
    id = 6020
    desc = EVTDESC6020
    picture = GFX_evt_recovery
    
    min_age = 10
    
    trigger = {
        OR = {
            trait = depressed
            trait = stressed
        }
    }
    
    mean_time_to_happen = {
        months = 12000
        
        modifier = {
            factor = 0.2
            trait = syphilitic
        }
        modifier = {
            factor = 0.5
            trait = zealous
        }
        modifier = {
            factor = 0.5
            trait = paranoid
        }
        modifier = {
            factor = 0.5
            trait = inbred
        }
        modifier = {
            factor = 0.5
            trait = genius
        }
    }
    
    option = {
        name = EVTOPTA6020
	hidden_tooltip = { character_event = { id = mutation.1005 }
			change_variable = { which = "lunatic_counter" value = 3 } } #lunacy
        remove_trait = depressed
        remove_trait = stressed
    }
}

### Remove Lunatic ###
character_event = {
    id = 6021
    desc = EVTDESC6021
    picture = GFX_evt_recovery
    
    min_age = 10
    
    trigger = {
        health = 4
	check_variable = { which = "lunatic_counter" value = 7 }
        NOT = { trait = syphilitic }
    }
    
    mean_time_to_happen = {
        months = 12000
        modifier = {
            factor = 0.5
            health = 6
        }
    }
    
    option = {
        name = EVTOPTA6021
	hidden_tooltip = { 
			change_variable = { which = "lunatic_counter" value = -5 } } #lunacy
	if = { limit = { NOT = { check_variable = { which = "lunatic_counter" value = 20 } } }
		remove_trait = lunatic_3 } 
	if = { limit = { NOT = { check_variable = { which = "lunatic_counter" value = 10 } } }
		remove_trait = lunatic_3
		remove_trait = lunatic_2 }  
	if = { limit = { NOT = { check_variable = { which = "lunatic_counter" value = 5 } } }
		remove_trait = lunatic_3
		remove_trait = lunatic_2
		remove_trait = lunatic_1 }
    }
}

############################################
#
# Random possessions by lesser demons
#
# @authore pietrko <p.l.stepnicki@gmail.com>
# @version 0.1.1
# 
#
### Possessed #############################
character_event = {
    id = 6030
    desc = EVTDESC6030
    picture = GFX_evt_esorcism
    
    min_age = 10
    
    trigger = {
        NOT = { religion_group = chaos_gods_group } # no random possession in this case
        NOT = { trait = possessed }
        NOT = { check_variable =  { which = "possession_counter" value = 1 } }
	NOT = { location = { empire = { title = e_ulthuan } } }
	NOT = { trait = creature_forestspirit }
	NOT = { trait = creature_treekin }
	NOT = { trait = creature_nehekharan }
	NOT = { trait = creature_chaosspawn }
	NOT = { trait = creature_orc }
	NOT = { trait = creature_goblin }
	NOT = { trait = creature_snotling }
	NOT = { has_character_flag = forsaken_flag }
	NOT = { trait = vampire_lahmian_visible }
	NOT = { trait = vampire_carstein_visible }
	NOT = { trait = vampire_blood_visible }
	NOT = { trait = vampire_strigoi_visible }
	NOT = { trait = vampire_necrach_visible }
	NOT = { trait = vampire_jade_visible }
	NOT = { trait = vampire_mahtmasi_visible }
	NOT = { trait = vampire_lahmian_hidden }
	NOT = { trait = vampire_carstein_hidden }
	NOT = { trait = vampire_blood_hidden }
	NOT = { trait = vampire_strigoi_hidden }
	NOT = { trait = vampire_necrach_hidden }
	NOT = { trait = vampire_jade_hidden }
	NOT = { trait = vampire_mahtmasi_hidden }

    }
    
    mean_time_to_happen = {
        months = 50000
        modifier = {
            factor = 0.75
		check_variable = { which = "lunatic_counter" value = 25 }
        }
        modifier = {
            factor = 0.75
		check_variable = { which = "lunatic_counter" value = 30 }
        }
        modifier = {
            factor = 0.75
		check_variable = { which = "lunatic_counter" value = 35 }
        }
        modifier = {
            factor = 0.75
		check_variable = { which = "lunatic_counter" value = 40 }
        }
        modifier = {
            factor = 0.5
		check_variable = { which = "lunatic_counter" value = 50 }
        }
        modifier = {
            factor = 0.25
		check_variable = { which = "lunatic_counter" value = 60 }
        }
        modifier = {
            factor = 0.25
		check_variable = { which = "lunatic_counter" value = 70 }
        }
        modifier = {
            factor = 0.25
		check_variable = { which = "lunatic_counter" value = 80 }
        }
        modifier = {
            factor = 0.25
		check_variable = { which = "lunatic_counter" value = 90 }
        }
        
        modifier = {
            factor = 0.9
            NOT = { prestige = 20 } 
        }
        
        modifier = {
            factor = 0.5
            NOT = { piety = 10 }
        }
        
        modifier = {
            factor = 0.7
            trait = zealous
        }
        modifier = {
            factor = 10
           trait = creature_elf
        }
        modifier = {
            factor = 10
           trait = malekith
        }
        modifier = {
            factor = 5
           trait = phoenix_king
        }
        modifier = {
            factor = 10
           trait = everqueen
        }
        modifier = {
            factor = 2
           trait = everqueen_heir
        }
        modifier = {
            factor = 10
           trait = avatar_kurnous
        }
        modifier = {
            factor = 10
           trait = avatar_isha
        }
        modifier = {
            factor = 2
           trait = asur_mage
        }
        modifier = {
            factor = 2
           trait = druchi_mage
        }
        modifier = {
            factor = 2
           trait = druchi_sorceress
        }
        modifier = {
            factor = 2
           trait = asrai_spellsinger 
        }
        modifier = {
            factor = 0.7
            OR = { has_global_flag = doom_medium
                has_global_flag = doom_high }
        }
        modifier = {
            factor = 0.25
            OR = {
                has_character_flag = magic_potential_flag_3
                has_character_flag = magic_potential_flag_4
		trait = magic_potential_3
		trait = magic_potential_4
            	}
        }
        modifier = {
            factor = 0.4
            location = { has_province_modifier = ravaged_by_chaos }
        }
        modifier = {
            factor = 0.75
            location = { empire = { title = e_chaos_wastes } }
        }
        modifier = {
            factor = 1.95
          NOT = { location = { empire = { title = e_chaos_wastes } } }
        }
        modifier = {
            factor = 0.5
            OR = {
                has_character_flag = hidden_cultist_undivided
                has_character_flag = hidden_cultist_slaanesh
                has_character_flag = hidden_cultist_tzeentch
                has_character_flag = hidden_cultist_nurgle
                has_character_flag = hidden_cultist_khorne
                has_character_flag = hidden_cultist_slaanesh2
                has_character_flag = hidden_cultist_tzeentch2
                has_character_flag = hidden_cultist_nurgle2
                has_character_flag = hidden_cultist_khorne2
                has_character_flag = hidden_cultist_slaanesh3
                has_character_flag = hidden_cultist_tzeentch3
                has_character_flag = hidden_cultist_nurgle3
                has_character_flag = hidden_cultist_khorne3
            }
        }
    }
    
    option = {
        name = EVTOPTA6030
        add_trait = possessed
	hidden_tooltip = { if = { limit = { NOT = { has_character_flag = recessive_mage } 
						NOT = { has_character_flag = magic_potential_flag_1 }
						NOT = { has_character_flag = magic_potential_flag_2 }
						NOT = { has_character_flag = magic_potential_flag_3 }
						NOT = { has_character_flag = magic_potential_flag_4 }
						NOT = { trait = magic_potential_1 }
						NOT = { trait = magic_potential_2 }
						NOT = { trait = magic_potential_3 }
						NOT = { trait = magic_potential_4 } } 
				set_variable = { which = "possession_counter" value = 5 }
					} 
				if = { limit = { has_character_flag = recessive_mage } 
				set_variable = { which = "possession_counter" value = 7 }
					} 
				if = { limit = { OR = { has_character_flag = magic_potential_flag_1 
							trait = magic_potential_1 } } 
				set_variable = { which = "possession_counter" value = 8 }
					} 
				if = { limit = { OR = { has_character_flag = magic_potential_flag_2 
							trait = magic_potential_2 } } 
				set_variable = { which = "possession_counter" value = 12 }
					} 
				if = { limit = { OR = { has_character_flag = magic_potential_flag_3 
							trait = magic_potential_3 } } 
				set_variable = { which = "possession_counter" value = 16 }
					} 
				if = { limit = { OR = { has_character_flag = magic_potential_flag_4 
							trait = magic_potential_4 } } 
				set_variable = { which = "possession_counter" value = 22 }
					} 
				if = { limit = { trait = lunatic_1 } 
				change_variable = { which = "possession_counter" value = 5 }
					} 
				if = { limit = { trait = lunatic_2 } 
				change_variable = { which = "possession_counter" value = 10 }
					} 
				if = { limit = { trait = lunatic_3 } 
				change_variable = { which = "possession_counter" value = 15 }
					} 
			character_event = { id = schaos.61 days = 5 random = 9 }
			}
	}
}

character_event = {
    id = 6031
    desc = EVTDESC6031
    picture = GFX_evt_recovery
    
    min_age = 10
    
    trigger = {
        health = 4
        trait = possessed
        NOT = { check_variable = { which = "possession_counter" value = 1 } }
    }
    
	is_triggered_only = yes
    
    option = {
        name = EVTOPTA6031
	clr_character_flag = possessed_by_khornate
	clr_character_flag = possessed_by_nurglite
	clr_character_flag = possessed_by_slaaneshi
	clr_character_flag = possessed_by_tzeentchian
        remove_trait = possessed
    }
}


#Stressed
character_event = {
    id = 6040
    desc = EVTDESC6040
    picture = GFX_evt_lunatic
    
    min_age = 16
    
    trigger = {
        OR = {
            is_ruler = yes
            is_councillor = yes
            has_minor_title = title_regent
        }
        NOT = { trait = stressed }
        NOT = { trait = incapable }
        NOT = { trait = infirm }
    }
    
    mean_time_to_happen = {
        months = 2400
        
        modifier = {
            factor = 0.8
            is_ruler = yes
        }
        modifier = {
            factor = 0.8
            is_councillor = yes
        }
        modifier = {
            factor = 0.8
            has_minor_title = title_regent
        }
        modifier = {
            factor = 0.8
            in_command = yes
        }
        
        modifier = {
            factor = 10.0
            trait = slothful
        }
    }
    
    option = {
        name = EVTOPTA6040
        add_trait = stressed
    }
}

#Remove Stressed
character_event = {
    id = 6041
    desc = EVTDESC6041
    picture = GFX_evt_recovery
    
    min_age = 16
    
    trigger = {
        trait = stressed
    }
    
    mean_time_to_happen = {
        months = 1200
        
        modifier = {
            factor = 0.005
          #  is_ruler = no
            is_councillor = no
            in_command = no
            NOT = { has_minor_title = title_regent }
		NOT = { has_character_flag = hidden_cultist_nurgle }
		NOT = { has_character_flag = hidden_cultist_nurgle2 }
		NOT = { has_character_flag = hidden_cultist_nurgle3 }
		NOT = { has_character_flag = hidden_cultist_khorne }
		NOT = { has_character_flag = hidden_cultist_khorne2 }
		NOT = { has_character_flag = hidden_cultist_khorne3 }
		NOT = { has_character_flag = hidden_cultist_slaanesh }
		NOT = { has_character_flag = hidden_cultist_slaanesh2 }
		NOT = { has_character_flag = hidden_cultist_slaanesh3 }
		NOT = { has_character_flag = hidden_cultist_tzeentch }
		NOT = { has_character_flag = hidden_cultist_tzeentch2 }
		NOT = { has_character_flag = hidden_cultist_tzeentch3 }
        }
        modifier = {
            factor = 0.75
            is_ruler = no
        }
        modifier = {
            factor = 0.75
            is_councillor = no
        }
        modifier = {
            factor = 0.75
            in_command = no
        }
        modifier = {
            factor = 0.75
            NOT = { has_minor_title = title_regent }
        }
        modifier = {
            factor = 0.5
           trait = addict
        }
        modifier = {
            factor = 0.05
           NOT = { trait = khorne_demon
		trait = nurgle_demon
		trait = slaanesh_demon
		trait = tzeentch_demon
		trait = daemon_kdaai}
        }
    }
    
    option = {
        name = EVTOPTA6041
        remove_trait = stressed
    }
}

#Depressed
character_event = {
    id = 6050
    desc = EVTDESC6050
    picture = GFX_evt_lunatic
    
    min_age = 10
    
    trigger = {
        NOT = { trait = depressed }
        NOT = { trait = zealous }
        NOT = { trait = incapable }
        NOT = { trait = content }
    }
    
    mean_time_to_happen = {
        months = 12000
        
        modifier = {
            factor = 0.5
            NOT = { age = 20 }
            mother = { is_alive = no } 
        }
        modifier = {
            factor = 0.75
            NOT = { age = 20 }
            father = { is_alive = no } 
        }
        
        modifier = {
            factor = 0.5
            trait = cynical
        }
        modifier = {
            factor = 0.5
            trait = stressed
        }
        modifier = {
            factor = 0.5
            trait = ill
        }
        modifier = {
            factor = 0.7
            trait = slothful
        }
        modifier = {
            factor = 0.7
            trait = ugly
        }
        modifier = {
            factor = 0.8
            trait = ambitious
        }
        modifier = {
            factor = 0.8
            in_command = yes
        }
        modifier = {
            factor = 2.0
            trait = diligent
        }
    }
    
    option = {
        name = EVTOPTA6050
        add_trait = depressed
    }
}

#Remove Depressed
character_event = {
    id = 6051
    desc = EVTDESC6051
    picture = GFX_evt_recovery
    
    min_age = 10
    
    trigger = {
        trait = depressed
    }
    
    mean_time_to_happen = {
        months = 1200
        
        modifier = {
            factor = 0.1
            trait = content
        }
        modifier = {
            factor = 0.1
            trait = zealous
        }
        modifier = {
            factor = 0.5
            trait = diligent
        }
        modifier = {
            factor = 2.0
            trait = cynical
        }
        modifier = {
            factor = 2.0
            trait = stressed
        }
        modifier = {
            factor = 2.0
            trait = ill
        }
        modifier = {
            factor = 1.5
            trait = slothful
        }
        modifier = {
            factor = 1.5
            trait = ugly
        }
        modifier = {
            factor = 1.3
            trait = ambitious
        }
        modifier = {
            factor = 1.3
            in_command = yes
        }
    }
    
    option = {
        name = EVTOPTA6051
        remove_trait = depressed
    }
}

#Ill
character_event = {
    id = 6060
    desc = EVTDESC6060
    picture = GFX_evt_illness
    
    trigger = {
        health = 3.0
        	NOT = { culture_group = daemonic_group }
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
        NOT = { trait = ill }
        NOT = { trait = pneumonic }
        NOT = { trait = has_tomb_rot }
        NOT = { trait = has_green_pox }
        NOT = { trait = has_red_pox }
        NOT = { trait = has_creeping_buboes }
        NOT = { trait = has_rattlelung }
        NOT = { trait = has_bone_auge }
    }
    
    mean_time_to_happen = {
        months = 360
        
        modifier = {
            factor = 0.5
            trait = depressed
        }
        modifier = {
            factor = 0.5
            trait = stressed
        }
        modifier = {
            factor = 0.75
            prisoner = yes
            has_character_modifier = the_oubliette
        }
        modifier = {
            factor = 0.9
            prisoner = yes
            has_character_modifier = the_dungeon
        }
        modifier = {
            factor = 1.5
            base_health = 6
        }
        modifier = {
            factor = 2.0
            base_health = 7
        }
        modifier = {
            factor = 2.0
            base_health = 8
        }
	modifier = {
		factor = 0.05
	OR = { religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
	}   
    }
    
    option = {
        name = EVTOPTA6060
        add_trait = ill
    }
}

#Remove Ill
character_event = {
    id = 6061
    desc = EVTDESC6061
    picture = GFX_evt_recovery
    
    trigger = {
        base_health = 3
        trait = ill
	NOT = { religion = nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle2 }
	NOT = { has_character_flag = hidden_cultist_nurgle3 }
    }
    
    mean_time_to_happen = {
        months = 12
        
        modifier = {
            factor = 2.0
            trait = depressed
        }
        modifier = {
            factor = 2.0
            trait = stressed
        }
        modifier = {
            factor = 0.3
            base_health = 5
        }
        modifier = {
            factor = 0.2
            base_health = 6
        }
        modifier = {
            factor = 0.1
            base_health = 7
        }
    }
    
    option = {
        name = EVTOPTA6061
        remove_trait = ill
    }
}

#Remove Sickly
character_event = {
	id = 6062
	desc = EVTDESC6062
	picture = GFX_evt_child_play
	border = GFX_event_normal_frame_religion
	
	max_age = 7
	
	trigger = {
		trait = sickly
		age = 2
	}
	
	mean_time_to_happen = {
		months = 12
		
		modifier = {
			factor = 0.5
			age = 3
		}
		modifier = {
			factor = 0.5
			age = 4
		}
		modifier = {
			factor = 0.01
			age = 5
		}
	}
	
	option = {
		name = EVTOPTA6062
		remove_trait = sickly
	}
}


#Pneumonic
character_event = {
    id = 6070
    desc = EVTDESC6070
    picture = GFX_evt_illness
    
    trigger = {
        	NOT = { culture_group = daemonic_group }
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
        OR = {
            trait = ill
            trait = has_rattlelung
        }
        NOT = { trait = pneumonic }
    }
    
    mean_time_to_happen = {
        months = 240
        modifier = {
            factor = 0.5
            NOT = { base_health = 5 }
        }
        modifier = {
            factor = 0.5
            NOT = { base_health = 4 }
        }
        modifier = {
            factor = 0.75
            trait = depressed
        }
        modifier = {
            factor = 0.75
            trait = stressed
        }
        modifier = {
            factor = 2.0
            base_health = 6
        }
        modifier = {
            factor = 2.0
            base_health = 7
        }
        modifier = {
            factor = 2.0
            base_health = 8
        }
        modifier = {
            factor = 0.25
            NOT = { month = 2 }        #jan and feb
            in_command = yes
        }
	modifier = {
		factor = 0.1
	OR = { religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
	}   
    }
    
    option = {
        name = EVTOPTA6070
        add_trait = pneumonic
    }
}

#Remove Pneumonic
character_event = {
    id = 6071
    desc = EVTDESC6071
    picture = GFX_evt_recovery
    
    trigger = {
        base_health = 4
        trait = pneumonic
	NOT = { religion = nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle }
	NOT = { has_character_flag = hidden_cultist_nurgle2 }
	NOT = { has_character_flag = hidden_cultist_nurgle3 }
    }
    
    mean_time_to_happen = {
        months = 4
        modifier = {
            factor = 2.0
            NOT = { base_health = 5 }
        }
        modifier = {
            factor = 2.0
            NOT = { base_health = 4 }
        }
        modifier = {
            factor = 1.5
            trait = depressed
        }
        modifier = {
            factor = 1.5
            trait = stressed
        }
        modifier = {
            factor = 0.5
            base_health = 6
        }
        modifier = {
            factor = 0.5
            base_health = 7
        }
        modifier = {
            factor = 0.5
            base_health = 8
        }
    }
    
    option = {
        name = EVTOPTA6071
        remove_trait = pneumonic
    }
}

#Wounded
character_event = {
    id = 6080
    desc = EVTDESC6080
    picture = GFX_evt_illness
    
    trigger = {
        OR = {
            trait = hunter
            in_command = yes
            trait = brave
        }
        NOT = {
            trait = wounded
            trait = maimed
        }        
    }
    
    mean_time_to_happen = {
        months = 10000
        
        modifier = {
            factor = 0.9
            trait = brave
        }
        
        modifier = {
            factor = 0.8
            in_command = yes
        }
        
        modifier = {
            factor = 0.7
            is_ruler = yes
        }
        
        modifier = {
            factor = 0.6
            trait = misguided_warrior
        }
        
        modifier = {
            factor = 1.1
            trait = paranoid
        }
    }
    
    option = {
        name = EVTOPTA6080
        add_trait = wounded
    }
}

#Remove Wounded
character_event = {
    id = 6081
    desc = EVTDESC6081
    picture = GFX_evt_recovery
    
    trigger = {
        base_health = 4
        trait = wounded
    }
    
    mean_time_to_happen = {
        months = 24
        
        modifier = {
            factor = 0.5
            base_health = 5.1
        }
        
        modifier = {
            factor = 0.4
            base_health = 6
        }
    }
    
    option = {
        name = EVTOPTA6081
        remove_trait = wounded
        add_trait = scarred
    }
}


#illness from wound..
character_event = {
    id = 6082
    desc = EVTDESC6082
    picture = GFX_evt_illness
    
    trigger = {
        	NOT = { culture_group = daemonic_group }
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
        trait = wounded
	OR = { NOT = { base_health = 8 }
		religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
        NOT = { trait = ill }
    }
    
    mean_time_to_happen = {
        months = 240
        
        modifier = {
            factor = 0.9
            in_command = yes
        }
        
        modifier = {
            factor = 0.8
            NOT = { base_health = 6 }
        }
        modifier = {
            factor = 0.8
            age = 60
        }
        modifier = {
            factor = 0.8
            age = 70
        }
	modifier = {
		factor = 0.25
	OR = { religion = nurgle
		has_character_flag = hidden_cultist_nurgle 
		has_character_flag = hidden_cultist_nurgle2 
		has_character_flag = hidden_cultist_nurgle3 }
	}   
    }
    
    option = {
        name = EVTOPTA6082
        add_trait = ill
    }
}


#Infirm
character_event = {
    id = 6100
    desc = EVTDESC6100
    picture = GFX_evt_illness
    
    min_age = 45
    
    trigger = {
        	NOT = { culture_group = daemonic_group }
        NOT = { trait = infirm }
        NOT = { trait = incapable }
        NOT = { trait = creature_elf }
        NOT = { trait = creature_dwarf }
        NOT = { trait = creature_chaos_dwarf }
        NOT = { culture_group = orc_group }
        NOT = { culture_group = goblin_group }
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
    }
    
    mean_time_to_happen = {
        months = 1200
        
        modifier = {
            factor = 0.8
            age = 60
        }
        modifier = {
            factor = 0.7
            age = 70
        }
        modifier = {
            factor = 0.5
            age = 80
        }
        modifier = {
            factor = 0.5
            age = 90
        }
        modifier = {
            factor = 0.75
            NOT = { base_health = 5.0 }
        }
        modifier = {
            factor = 0.75
            NOT = { base_health = 4.0 }
        }
        modifier = {
            factor = 2.0
            base_health = 5.1
        }
        modifier = {
            factor = 2.0
            base_health = 6.0
        }
        modifier = {
            factor = 4.0
            trait = grail_knight
        }
    }
    
    option = {
        name = EVTOPTA6100
        add_trait = infirm
    }
}

#Incapable
character_event = {
    id = 6110
    desc = EVTDESC6110
    picture = GFX_evt_recovery
    
    trigger = {
        OR = {
            trait = infirm
            trait = inbred
        }
        	NOT = { culture_group = daemonic_group }
        NOT = { trait = grail_knight }
        NOT = { trait = incapable }
		NOT = { trait = grail_knight }
        NOT = { trait = creature_elf }
        NOT = { trait = creature_dwarf }
        NOT = { trait = creature_chaos_dwarf }
        NOT = { culture_group = orc_group }
        NOT = { culture_group = goblin_group }
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = vampire_carstein_visible }
		NOT = { trait = vampire_blood_visible }
		NOT = { trait = vampire_strigoi_visible }
		NOT = { trait = vampire_necrach_visible }
		NOT = { trait = vampire_jade_visible }
		NOT = { trait = vampire_mahtmasi_visible }
		NOT = { trait = vampire_lahmian_visible }
		NOT = { trait = vampire_carstein_hidden }
		NOT = { trait = vampire_blood_hidden }
		NOT = { trait = vampire_strigoi_hidden }
		NOT = { trait = vampire_necrach_hidden }
		NOT = { trait = vampire_jade_hidden }
		NOT = { trait = vampire_mahtmasi_hidden }
		NOT = { trait = vampire_lahmian_hidden }
    }
    
    mean_time_to_happen = {
        months = 120
        
        modifier = {
            factor = 0.5
            NOT = { health = 3.0 }
        }
        modifier = {
            factor = 0.5
            NOT = { base_health = 5.0 }
        }
        modifier = {
            factor = 2.0
            NOT = { trait = infirm }
        }
        modifier = {
            factor = 2.0
            base_health = 5.1
        }
        modifier = {
            factor = 2.0
            base_health = 6.0
        }
    }
    
    option = {
        name = EVTOPTA6110
        add_trait = incapable
        remove_trait = infirm
    }
}
#
# I don't know what to do with those events they are possessed connected
# maybe they should stay?
#
# TODO: Some religious things should be based ont the "I hear voice of Jesus"
# i've deleted those events from core health event set
# 
### Lunacy Events
#
# Lunacy Events should stay there are good enough
# TODO: maybe add some stuff here
# FIXME: remember to fix religions
#
# Ruler Implements New Law
character_event = {
    id = 6300
    desc = EVTDESC6300
    picture = GFX_evt_lunatic
    
    min_age = 16
    prisoner = no
    only_rulers = yes
    
    trigger = {
        independent = yes
        trait = lunatic_3
    }
    
    mean_time_to_happen = {
        months = 420
    }
    
    option = {
        name = EVTOPTA6300
        tooltip_info = lunatic_3
        character_event = { id = 6305 tooltip = EVTTOOLTIP6305 }
        hidden_tooltip = {
            any_vassal = {
                character_event = { id = 6301 }
            }
        }    
    }
    option = {
        name = EVTOPTB6300
        tooltip_info = lunatic_3
        character_event = { id = 6306 tooltip = EVTTOOLTIP6306 }
        hidden_tooltip = {
            any_vassal = {
                character_event = { id = 6302 }
            }
        }    
    }
    option = {
        name = EVTOPTC6300
        tooltip_info = lunatic_3
        character_event = { id = 6307 tooltip = EVTTOOLTIP6307 }
        hidden_tooltip = {
            any_vassal = {
                character_event = { id = 6303 }
            }
        }    
    }
    option = {
        name = EVTOPTD6300
        tooltip_info = lunatic_3
        character_event = { id = 6308 tooltip = EVTTOOLTIP6308 }
        hidden_tooltip = {
            any_vassal = {
                character_event = { id = 6304 }
            }
        }    
    }
}

# Turnip Law (Vassals)
narrative_event = {
    id = 6301
    title = EVTNAME6301
    desc = EVTDESC6301
    picture = GFX_evt_recieve_letter
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6301
        custom_tooltip = { text = ignore_law }
    }
}

# Pants Law (Vassals)
narrative_event = {
    id = 6302
    title = EVTNAME6302
    desc = EVTDESC6302
    picture = GFX_evt_recieve_letter
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6302
        custom_tooltip = { text = ignore_law }
    }
}

# Hole Law (Vassals)
narrative_event = {
    id = 6303
    title = EVTNAME6303
    desc = EVTDESC6303
    picture = GFX_evt_recieve_letter
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6303
        custom_tooltip = { text = ignore_law }
    }
}

# Violence Law (Vassals)
narrative_event = {
    id = 6304
    title = EVTNAME6304
    desc = EVTDESC6304
    picture = GFX_evt_recieve_letter
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6304
        custom_tooltip = { text = ignore_law }
    }
}

# Turnip Law (Liege)
narrative_event = {
    id = 6305
    title = EVTNAME6301
    desc = EVTDESC6305
    picture = GFX_evt_courier
    
    hide_from = yes
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6305
        any_vassal = {
            opinion = {
                modifier = opinion_insane_law
                who = ROOT
            }
        }
    }
}

# Pants Law (Liege)
narrative_event = {
    id = 6306
    title = EVTNAME6302
    desc = EVTDESC6306
    picture = GFX_evt_courier
    
    hide_from = yes
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6305
        any_vassal = {
            opinion = {
                modifier = opinion_insane_law
                who = ROOT
            }
        }
    }
}

# Hole Law (Liege)
narrative_event = {
    id = 6307
    title = EVTNAME6303
    desc = EVTDESC6307
    picture = GFX_evt_courier
    
    hide_from = yes
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6305
        any_vassal = {
            opinion = {
                modifier = opinion_insane_law
                who = ROOT
            }
        }
    }
}

# Violence Law (Liege)
narrative_event = {
    id = 6308
    title = EVTNAME6304
    desc = EVTDESC6308
    picture = GFX_evt_courier
    
    hide_from = yes
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6305
        any_vassal = {
            opinion = {
                modifier = opinion_insane_law
                who = ROOT
            }
        }
    }
}

### Random Madness

# Gopher Maid
character_event = {
    id = 6315
    desc = EVTDESC6315
    picture = GFX_evt_lunatic
    
    ai = no
    min_age = 16
    prisoner = no
    
    trigger = {
        trait = lunatic_3
    }
    
    mean_time_to_happen = {
        months = 420
    }
    
    option = {
        name = EVTOPTA6315
        tooltip_info = lunatic_3
        prestige = -20
    }
}

# Howling at the Moon
character_event = {
    id = 6316
    desc = EVTDESC6316
    picture = GFX_evt_lunatic
    
    ai = no
    min_age = 16
    prisoner = no
    
    trigger = {
        trait = lunatic_3
    }
    
    mean_time_to_happen = {
        months = 420
    }
    
    option = {
        name = EVTOPTA6316
        tooltip_info = lunatic_3
        prestige = -20
    }
}

### Horse Chancellor
character_event = {
    id = 6317
    desc = EVTDESC6317
    picture = GFX_evt_courier
    
    min_age = 16
    prisoner = no
    
    trigger = {
        trait = lunatic_3
        any_courtier = {
            has_job_title = job_chancellor
        }
    }
    
    mean_time_to_happen = {
        months = 420
    }
    
    option = {
        name = EVTOPTA6317
        tooltip_info = lunatic_3
        job_chancellor = {
            opinion = {
                modifier = opinion_fired_from_council
                who = ROOT
                years = 5
            }
            hidden_tooltip = {
                character_event = { id = 6318 }
            }
            remove_title = job_chancellor
        }
    }
}

# Chancellor informed
character_event = {
    id = 6318
    desc = EVTDESC6318
    picture = GFX_evt_courier
    
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6318
        prestige = -20
        custom_tooltip = { text = horse_chancellor }
    }
}

### Lunatic Pagan series (TODO: do some stuff to fit it to warhammer world)

# Rats in the walls
character_event = {
    id = 6350
    desc = EVTDESC6350
    picture = GFX_evt_recovery
    
    min_age = 16
    prisoner = no
    only_rulers = yes
    
    trigger = {
        OR = {
            religion_group = old_gods_group
            religion = ulrican
            religion = taalite
            religion = old_faith

        }
        NOT = { has_character_flag = the_old_ones_are_waking }
    }
    
    immediate = {
        set_character_flag = the_old_ones_are_waking
    }
    
    mean_time_to_happen = {
        months = 1000
        modifier = {
            factor = 100
            NOT = { trait = lunatic_3 }
        }
    }
    
    option = {
        name = EVTOPTA6350
	hidden_tooltip = { character_event = { id = mutation.1005 }
			change_variable = { which = "lunatic_counter" value = 5 } } #lunacy
        character_event = { id = 6354 days = 14 tooltip = EVTTOOLTIP6354 }
    }
    option = {
        name = EVTOPTB6350
        trigger = {
            NOT = { trait = lunatic_3 }
            NOT = { trait = lunatic_2 }
        }
    }
}

# Something in the well
character_event = {
    id = 6351
    desc = EVTDESC6351
    picture = GFX_evt_garden
    
    min_age = 16
    prisoner = no
    only_rulers = yes
    
    trigger = {
        OR = {
            religion_group = old_gods_group
            religion = ulrican
            religion = taalite
            religion = old_faith
        }
        NOT = { has_character_flag = the_old_ones_are_waking }
    }
    
    immediate = {
        set_character_flag = the_old_ones_are_waking
    }
    
    mean_time_to_happen = {
        months = 1000
        modifier = {
            factor = 100
            NOT = { trait = lunatic_3 }
        }
    }
    
    option = {
        name = EVTOPTA6351
	hidden_tooltip = { character_event = { id = mutation.1005 }
			change_variable = { which = "lunatic_counter" value = 5 } } #lunacy
        character_event = { id = 6354 days = 14 tooltip = EVTTOOLTIP6354 }
    }
    option = {
        name = EVTOPTB6351
        trigger = {
            NOT = { trait = lunatic_3 }
            NOT = { trait = lunatic_2 }
        }
    }
}

# Tomb raiding
character_event = {
    id = 6352
    desc = EVTDESC6352
    picture = GFX_evt_death
    
    min_age = 16
    prisoner = no
    only_rulers = yes
    
    trigger = {
        OR = {
            religion_group = old_gods_group
            religion = ulrican
            religion = taalite
            religion = old_faith
        }
        NOT = { has_character_flag = the_old_ones_are_waking }
    }
    
    immediate = {
        set_character_flag = the_old_ones_are_waking
    }
    
    mean_time_to_happen = {
        months = 1000
        modifier = {
            factor = 100
            NOT = { trait = lunatic_3 }
        }
    }
    
    option = {
        name = EVTOPTA6352
	hidden_tooltip = { character_event = { id = mutation.1005 }
			change_variable = { which = "lunatic_counter" value = 5 } } #lunacy
        character_event = { id = 6354 days = 14 tooltip = EVTTOOLTIP6354 }
    }
    option = {
        name = EVTOPTB6352
        trigger = {
            NOT = { trait = lunatic_3 }
            NOT = { trait = lunatic_2 }
        }
    }
}

# A law against the killing of cats
character_event = {
    id = 6353
    desc = EVTDESC6353
    picture = GFX_evt_burning_house
    
    min_age = 16
    prisoner = no
    only_rulers = yes
    
    trigger = {
        OR = {
            religion_group = old_gods_group
            religion = ulrican
            religion = taalite
            religion = old_faith
            
        }
        NOT = { has_character_flag = the_old_ones_are_waking }
    }
    
    immediate = {
        set_character_flag = the_old_ones_are_waking
    }
    
    mean_time_to_happen = {
        months = 1000
        modifier = {
            factor = 100
            NOT = { trait = lunatic_3 }
        }
    }
    
    
    option = {
        name = EVTOPTA6353
	hidden_tooltip = { character_event = { id = mutation.1005 }
			change_variable = { which = "lunatic_counter" value = 5 } } #lunacy
        character_event = { id = 6354 days = 14 tooltip = EVTTOOLTIP6354 }
    }
    option = {
        name = EVTOPTB6353
        trigger = {
            NOT = { trait = lunatic_3 }
            NOT = { trait = lunatic_2 }
        }
    }
}

# Visiting a quaint village
character_event = {
    id = 6354
    desc = EVTDESC6354
    picture = GFX_evt_shadowy_cabal
    
    hide_from = yes
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6354
        character_event = { id = 6355 days = 7 tooltip = EVTTOOLTIP6355 }
    }
}

# A seaside ritual
character_event = {
    id = 6355
    desc = EVTDESC6355
    picture = GFX_evt_shadowy_cabal
    
    hide_from = yes
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6355
        change_learning = 1
        character_event = { id = 6356 days = 1 tooltip = EVTTOOLTIP6356 }
    }
}

# Something rises from the sea...
character_event = {
    id = 6356
    desc = EVTDESC6356
    picture = GFX_evt_shadowy_cabal
    
    hide_from = yes
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6356
        piety = 100
        if ={
	limit = {
		trait = carstein_ring
	}
	character_event = {
		id = carstein.13 days = 1
	}
	break = yes
}
		if = {
 limit = {
 trait = khemri_tomb_king }

			character_event = {
 id = snehekharan.1 days = 1 }
	
			break = yes 
}
death = { death_reason = death_sacrificed }
    }
    option = {
        name = EVTOPTB6356
        character_event = { id = 6357 days = 1 tooltip = EVTTOOLTIP6357 }
    }
}

# Commendeer a longship
character_event = {
    id = 6357
    desc = EVTDESC6357
    picture = GFX_evt_kraken
    
    hide_from = yes
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6357
        character_event = { id = 6358 days = 1 tooltip = EVTTOOLTIP6358 }
    }
}

# Waking up
character_event = {
    id = 6358
    desc = EVTDESC6358
    picture = GFX_evt_recovery
    
    hide_from = yes
    is_triggered_only = yes
    
    option = {
        name = EVTOPTA6358
        prestige = 100
        if = {
            limit = { lifestyle_traits = 1 }
            change_learning = 1
        }        
        if = {
            limit = { NOT = { lifestyle_traits = 1 } }
            add_trait = scholar
        }
    }
    option = {
        name = EVTOPTB6358
        add_character_modifier = { name = "killed_an_old_one" duration = 3635 }
    }    
}
